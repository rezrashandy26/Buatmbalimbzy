<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Mini Birthday Desktop</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  font-family:Segoe UI,Arial,sans-serif;
  color:#fff;
  overflow:hidden;
}

/* ================= DESKTOP ================= */
.desktop{
  padding:15px;
}
.icon{
  width:70px;
  margin-bottom:18px;
  text-align:center;
  cursor:pointer;
}
.icon img{width:48px;opacity:.35}
.icon.active img{opacity:1}
.icon span{
  display:block;
  font-size:12px;
  margin-top:4px;
}

/* ================= WINDOW ================= */
.window{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:400px;
  background:#121212;
  border-radius:10px;
  box-shadow:0 0 20px rgba(0,0,0,.85);
  display:none;
}

.titlebar{
  height:28px;
  background:#1f1f1f;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  border-radius:10px 10px 0 0;
  padding:0 5px;
}
.win-btn{
  width:32px;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.win-btn:hover{background:#333}
.close:hover{background:#c42b1c}

.content{
  padding:16px;
  text-align:center;
}

button{
  padding:6px 16px;
  font-size:14px;
  border:none;
  border-radius:6px;
  background:#ff6f61;
  color:white;
  cursor:pointer;
  margin-top:12px;
}

/* ================= MINI CAKE ================= */
.cake-area{
  position:relative;
  width:120px;
  margin:16px auto;
}

.candles{
  position:absolute;
  top:-28px;            
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:15px;
}
.candle{
  width:6px;
  height:25px;
  background:#ffffff;
  border-radius:3px;
  position:relative;
}
.flame{
  position:absolute;
  top:-12px;
  left:50%;
  transform:translateX(-50%);
  width:8px;
  height:10px;
  background:radial-gradient(circle at 50% 30%, #ffd700, #ff4500);
  border-radius:50%;
  animation:flicker 1s infinite;
}
@keyframes flicker{
  0%{transform:translateX(-50%) scale(1)}
  50%{transform:translateX(-50%) scale(.8)}
  100%{transform:translateX(-50%) scale(1)}
}

.cake{width:100%}
.layer{
  height:35px;
  margin-top:-6px;
  border-radius:6px;
}
.layer.top{background:#ffc8a2}
.layer.middle{background:#ffb7b2}
.layer.bottom{background:#ff9aa2}
.icing{
  height:6px;
  background:#ffffff;
  border-radius:0 0 6px 6px;
}

/* ================= PHOTO ================= */
#photoWin img{
  max-width:45vw;
  max-height:55vh;
  border-radius:6px;
  object-fit:contain;
}
</style>
</head>

<body>

<!-- ================= DESKTOP ================= -->
<div class="desktop">

  <div class="icon active" id="iconMusic" onclick="openMusic()">
    <img src="https://cdn-icons-png.flaticon.com/512/716/716784.png">
    <span>Music</span>
  </div>

  <div class="icon" id="iconCake">
    <img src="https://cdn-icons-png.flaticon.com/512/3075/3075977.png">
    <span>Cake</span>
  </div>

  <div class="icon" id="iconWish">
    <img src="https://cdn-icons-png.flaticon.com/512/942/942748.png">
    <span>Ucapan</span>
  </div>

  <div class="icon" id="iconPhoto">
    <img src="https://cdn-icons-png.flaticon.com/512/2659/2659360.png">
    <span>Foto</span>
  </div>

</div>

<!-- ================= MUSIC ================= -->
<div class="window" id="winMusic">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('winMusic')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closeMusic()">âœ•</div>
  </div>
  <div class="content" id="musicContent">
    <h2>Denger lagu dulu ðŸŽµ</h2>
    <button onclick="playMusic()">Play Music</button>
  </div>
</div>

<!-- ================= MINI CAKE ================= -->
<div class="window" id="winCake">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('winCake')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closeCake()">âœ•</div>
  </div>
  <div class="content" id="cakeContent">
    <h2>ðŸŽ‚ Make a Wish ðŸŽ‚</h2>
    <div class="cake-area">
      <div class="candles">
        <div class="candle"><div class="flame"></div></div>
        <div class="candle"><div class="flame"></div></div>
        <div class="candle"><div class="flame"></div></div>
      </div>
      <div class="cake">
        <div class="layer top"><div class="icing"></div></div>
        <div class="layer middle"></div>
        <div class="layer bottom"></div>
      </div>
    </div>
    <button onclick="makeWish()">Make a Wish</button>
  </div>
</div>

<!-- ================= UCAPAN ================= -->
<div class="window" id="winWish">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('winWish')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closeWish()">âœ•</div>
  </div>
  <div class="content" id="wishContent">
    <h2>ðŸŽ‰ SELAMAT ULANG TAHUN ðŸŽ‰</h2>
    <p>
      SELAMAT ULANG TAHUN MBA LIMBZYY YANG KE 25,<br><br>
      SEMOGA PANJANG UMUR, SEHAT SELALU,<br>
      MAKIN SUKSES KEDEPANNYA,<br>
      LANCAR SKRIPSI DAN PEKERJAANNYA,<br><br>
      JANGAN BANYAK STRESS ðŸ˜„<br>
      AMIN!!!
    </p>
  </div>
</div>

<!-- ================= FOTO ================= -->
<div class="window" id="photoWin">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('photoWin')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closePhoto()">âœ•</div>
  </div>
  <div class="content" id="photoContent">
    <img id="photo" src="foto1.jpeg"><br>
    <button onclick="prev()">Prev</button>
    <button onclick="next()">Next</button>
  </div>
</div>

<audio id="music" src="music.mp3"></audio>

<script>
let photos=["foto1.jpeg","foto2.jpeg","foto3.jpeg"];
let idx=0;

function show(id){document.getElementById(id).style.display="block"}
function hide(id){document.getElementById(id).style.display="none"}

function openMusic(){show("winMusic")}
function closeMusic(){hide("winMusic"); unlock("iconCake",openCake)}

function openCake(){show("winCake")}
function closeCake(){hide("winCake"); unlock("iconWish",openWish)}

function openWish(){show("winWish")}
function closeWish(){hide("winWish"); unlock("iconPhoto",openPhoto)}

function openPhoto(){show("photoWin")}
function closePhoto(){hide("photoWin")}

function playMusic(){
  document.getElementById("music").play();
}

// Minimize: sembunyikan konten tapi titlebar tetap
function minimize(id){
  let win=document.getElementById(id);
  let content=win.querySelector(".content");
  if(content.style.display==="none"){
    content.style.display="block";
  } else {
    content.style.display="none";
  }
}

// Padamkan lilin
function makeWish(){
  document.querySelectorAll(".flame").forEach(f=>f.style.display="none");
}

// Foto galeri
function next(){
  idx=(idx+1)%photos.length;
  photo.src=photos[idx];
}
function prev(){
  idx=(idx-1+photos.length)%photos.length;
  photo.src=photos[idx];
}

// Unlock icon setelah window selesai
function unlock(id,fn){
  let el=document.getElementById(id);
  el.classList.add("active");
  el.onclick=fn;
}
</script>

</body>
</html>
