<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Birthday Desktop Ultimate</title>
<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  font-family:Segoe UI,Arial,sans-serif;
  color:#fff;
  overflow:hidden;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  background-size:400% 400%;
  animation:bgMove 25s ease infinite;
}
@keyframes bgMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* DESKTOP */
.desktop{
  padding:15px;
}
.icon{
  width:70px;
  margin-bottom:18px;
  text-align:center;
  cursor:pointer;
  transition: transform .2s;
}
.icon:hover{transform:scale(1.2);}
.icon img{width:48px;opacity:.35}
.icon.active img{opacity:1}
.icon span{display:block;font-size:12px;margin-top:4px;}

/* WINDOW */
.window{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:450px;
  background:#121212;
  border-radius:12px;
  box-shadow:0 0 25px rgba(0,0,0,.9);
  display:none;
  z-index:10;
}
.titlebar{
  height:30px;
  background:#1f1f1f;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  border-radius:12px 12px 0 0;
  padding:0 5px;
}
.win-btn{
  width:32px;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.win-btn:hover{background:#333}
.close:hover{background:#c42b1c}
.content{padding:18px;text-align:center;}
button{padding:8px 18px;font-size:14px;border:none;border-radius:6px;background:#ff6f61;color:white;cursor:pointer;margin:10px 5px;}

/* MINI CAKE HORIZONTAL */
.cake-container{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:15px;
}
.cake-area{
  position:relative;
  width:90px;
  margin:0;
}
/* Lilin */
.candles{
  position:absolute;
  top:-24px;            
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
}
.candle{
  width:6px;
  height:22px;
  background:#fff;
  border-radius:3px;
  position:relative;
  animation:wobble 1s infinite alternate;
}
@keyframes wobble{
  0%{transform:rotate(-3deg);}
  100%{transform:rotate(3deg);}
}
.flame{
  position:absolute;
  top:-6px;
  left:50%;
  transform:translateX(-50%);
  width:6px;
  height:7px;
  background:radial-gradient(circle at 50% 30%, #ffd700, #ff4500);
  border-radius:50%;
  box-shadow:0 0 6px #ff4500;
  animation:flicker 1s infinite;
}
@keyframes flicker{
  0%{transform:translateX(-50%) scale(1);}
  50%{transform:translateX(-50%) scale(.85);}
  100%{transform:translateX(-50%) scale(1);}
}
/* Cake */
.cake{width:100%}
.layer{
  height:28px;
  margin-top:-5px;
  border-radius:6px;
  position:relative;
}
.layer.top{background:linear-gradient(#ffe0c4,#ffc1a1);}
.layer.middle{background:linear-gradient(#ffb7b2,#ffa1a5);}
.layer.bottom{background:linear-gradient(#ff9aa2,#ff7f8f);}
.icing{
  height:5px;
  background:#fff;
  border-radius:0 0 6px 6px;
  position:relative;
}
.icing::after, .icing::before{
  content:"";
  position:absolute;
  width:3px;
  height:5px;
  background:#fff;
  border-radius:50%;
  bottom:-5px;
}
.icing::after{left:5px;}
.icing::before{right:5px;}
.cherry{
  position:absolute;
  top:-6px;
  left:50%;
  transform:translateX(-50%);
  width:6px;
  height:6px;
  background:red;
  border-radius:50%;
  box-shadow:0 1px 2px rgba(0,0,0,0.4);
}

/* FOTO */
#photoWin img{
  max-width:350px;
  max-height:350px;
  border-radius:8px;
  object-fit:contain;
  box-shadow:0 3px 8px rgba(0,0,0,0.6);
}

/* Konfeti */
.confetti-piece{
  position:absolute;
  width:7px; height:7px;
  top:0;
  opacity:0.9;
  pointer-events:none;
  animation:fall 3s linear forwards;
  border-radius:50%;
}
@keyframes fall{
  0%{transform:translateY(0) rotate(0deg);}
  100%{transform:translateY(350px) rotate(360deg); opacity:0;}
}
</style>
</head>
<body>

<!-- DESKTOP -->
<div class="desktop">
  <div class="icon active" id="iconMusic" onclick="openMusic()"><img src="https://cdn-icons-png.flaticon.com/512/716/716784.png"><span>Music</span></div>
  <div class="icon" id="iconCake"><img src="https://cdn-icons-png.flaticon.com/512/3075/3075977.png"><span>Cake</span></div>
  <div class="icon" id="iconWish"><img src="https://cdn-icons-png.flaticon.com/512/942/942748.png"><span>Ucapan</span></div>
  <div class="icon" id="iconPhoto"><img src="https://cdn-icons-png.flaticon.com/512/2659/2659360.png"><span>Foto</span></div>
</div>

<!-- MUSIC -->
<div class="window" id="winMusic">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('winMusic')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closeMusic()">âœ•</div>
  </div>
  <div class="content" id="musicContent">
    <h2>Denger lagu dulu ðŸŽµ</h2>
    <button onclick="playMusic()">Play Music</button>
    <button onclick="pauseMusic()">Pause Music</button>
  </div>
</div>

<!-- CAKE -->
<div class="window" id="winCake">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('winCake')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closeCake()">âœ•</div>
  </div>
  <div class="content">
    <div class="cake-container">
      <div class="cake-area">
        <div class="candles">
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
        </div>
        <div class="cake">
          <div class="layer top"><div class="icing"></div><div class="cherry"></div></div>
          <div class="layer middle"></div>
          <div class="layer bottom"></div>
        </div>
      </div>
      <div style="text-align:left; max-width:220px;">
        <h2>ðŸŽ‚ Make a Wish ðŸŽ‚</h2>
        <p>Tiup lilin dan buat harapanmu!</p>
      </div>
    </div>
    <button onclick="makeWish()">Make a Wish</button>
  </div>
</div>

<!-- UCAPAN -->
<div class="window" id="winWish">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('winWish')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closeWish()">âœ•</div>
  </div>
  <div class="content">
    <h2>ðŸŽ‰ SELAMAT ULANG TAHUN ðŸŽ‰</h2>
    <p>
      SELAMAT ULANG TAHUN MBA LIMBZYY YANG KE 25,<br><br>
      SEMOGA PANJANG UMUR, SEHAT SELALU,<br>
      MAKIN SUKSES KEDEPANNYA,<br>
      LANCAR SKRIPSI DAN PEKERJAANNYA,<br><br>
      JANGAN BANYAK STRESS ðŸ˜„<br>
      AMIN!!!
    </p>
  </div>
</div>

<!-- FOTO -->
<div class="window" id="photoWin">
  <div class="titlebar">
    <div class="win-btn" onclick="minimize('photoWin')">â€”</div>
    <div class="win-btn">â–¢</div>
    <div class="win-btn close" onclick="closePhoto()">âœ•</div>
  </div>
  <div class="content" id="photoContent">
    <img id="photo" src="foto1.jpeg"><br>
    <button onclick="prev()">Prev</button>
    <button onclick="next()">Next</button>
    <button onclick="printPhoto()">Cetak</button>
  </div>
</div>

<audio id="music" src="music.mp3"></audio>

<script>
let photos=["foto1.jpeg","foto2.jpeg","foto3.jpeg"];
let idx=0;

function show(id){document.getElementById(id).style.display="block"}
function hide(id){document.getElementById(id).style.display="none"}

function openMusic(){show("winMusic")}
function closeMusic(){hide("winMusic"); unlock("iconCake",openCake)}
function openCake(){show("winCake")}
function closeCake(){hide("winCake"); unlock("iconWish",openWish)}
function openWish(){show("winWish")}
function closeWish(){hide("winWish"); unlock("iconPhoto",openPhoto)}
function openPhoto(){show("photoWin")}
function closePhoto(){hide("photoWin")}

function playMusic(){document.getElementById("music").play();}
function pauseMusic(){document.getElementById("music").pause();}

// Minimize window
function minimize(id){
  let win=document.getElementById(id);
  let content=win.querySelector(".content");
  content.style.display=(content.style.display==="none")?"block":"none";
}

// Padamkan lilin + konfeti + popup
function makeWish(){
  document.querySelectorAll(".flame").forEach(f=>f.style.display="none");
  spawnConfetti();
  showPopup();
}

// Foto galeri
function next(){idx=(idx+1)%photos.length; photo.src=photos[idx];}
function prev(){idx=(idx-1+photos.length)%photos.length; photo.src=photos[idx];}
function printPhoto(){let img=document.getElementById('photo');let w=window.open('');w.document.write('<img src="'+img.src+'" style="width:100%">'); w.print();}

// Unlock icon setelah window selesai
function unlock(id,fn){let el=document.getElementById(id);el.classList.add("active");el.onclick=fn;}

// Konfeti
function spawnConfetti(){
  for(let i=0;i<60;i++){
    let conf=document.createElement('div');
    conf.className='confetti-piece';
    conf.style.left=Math.random()*window.innerWidth+'px';
    conf.style.background='hsl('+Math.random()*360+',70%,60%)';
    document.body.appendChild(conf);
    setTimeout(()=>conf.remove(),3500);
  }
}

// Popup Wish Granted
function showPopup(){
  let popup=document.createElement('div');
  popup.innerText='Wish Granted! ðŸŽ‰';
  popup.style.position='fixed';
  popup.style.top='50%';
  popup.style.left='50%';
  popup.style.transform='translate(-50%,-50%)';
  popup.style.background='rgba(255,111,97,0.95)';
  popup.style.padding='14px 22px';
  popup.style.borderRadius='12px';
  popup.style.fontSize='20px';
  popup.style.boxShadow='0 0 20px rgba(0,0,0,0.6)';
  popup.style.opacity=0;
  popup.style.transition='opacity 0.5s';
  document.body.appendChild(popup);
  setTimeout(()=>popup.style.opacity=1,50);
  setTimeout(()=>popup.style.opacity=0,2500);
  setTimeout(()=>popup.remove(),3000);
}
</script>
</body>
</html>
