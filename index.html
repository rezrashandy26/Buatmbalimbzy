<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Birthday Desktop</title>

<style>
body{
  margin:0;
  background:linear-gradient(#0a1a3a,#000814);
  font-family:Arial, Helvetica, sans-serif;
  height:100vh;
  overflow:hidden;
  color:white;
}
.desktop{width:100%;height:100%;position:relative}

/* ICON */
.icon{
  width:90px;
  text-align:center;
  cursor:pointer;
  margin:20px;
}
.icon span{font-size:12px;display:block}

/* POPUP INFO */
.popup{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.75);
  padding:12px 22px;
  border-radius:20px;
  font-size:14px;
  display:none;
}
.popup.show{display:block}

/* WINDOW */
.window{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#f2f2f2;
  color:black;
  border:2px solid #000;
  width:520px;
  display:none;
  box-shadow:6px 6px 0 #000;
}
.titlebar{
  background:#000080;
  color:white;
  padding:6px 10px;
}
.content{text-align:center;padding:15px}

/* CAKE */
.cake{
  width:100%;
  max-height:240px;
  object-fit:contain;
}

/* PHOTO DESKTOP */
.photo-box{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:50vw;
  height:50vh;
  background:black;
  display:none;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 25px rgba(0,0,0,.8);
}
.photo-box img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
}
.photo-controls{
  position:fixed;
  bottom:20px;
  width:100%;
  text-align:center;
  display:none;
}
.photo-controls button{
  padding:10px 20px;
  margin:0 10px;
  border:none;
  border-radius:20px;
  background:#ff6f61;
  color:white;
  cursor:pointer;
}
button{
  padding:10px 20px;
  border:none;
  border-radius:20px;
  background:#ff6f61;
  color:white;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="desktop">

  <!-- ICONS -->
  <div class="icon" style="position:absolute;top:20px;left:20px" onclick="playMusic()">
    üéµ<span>Music</span>
  </div>

  <div class="icon" style="position:absolute;top:120px;left:20px" onclick="openCake()">
    üéÇ<span>Cake</span>
  </div>

  <div class="icon" style="position:absolute;top:220px;left:20px" onclick="openPhotos()">
    üìÅ<span>Photos</span>
  </div>

  <!-- POPUP -->
  <div class="popup show" id="popup">Denger lagu dulu ya üéµ</div>

  <!-- CAKE WINDOW -->
  <div class="window" id="cakeWin">
    <div class="titlebar">Tiup Lilin</div>
    <div class="content">
      <img src="cake.jpeg" class="cake">
      <br>
      <button onclick="blow()">Tiup Lilin üéâ</button>
    </div>
  </div>

  <!-- PHOTO -->
  <div class="photo-box" id="photoBox">
    <img id="photo" src="foto1.jpeg">
  </div>

  <div class="photo-controls" id="photoCtrl">
    <button onclick="prev()">‚óÄ Prev</button>
    <button onclick="next()">Next ‚ñ∂</button>
  </div>

</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
let musicPlayed=false;
let candleBlown=false;
let photos=["foto1.jpeg","foto2.jpeg","foto3.jpeg"];
let idx=0;

function showPopup(text){
  const p=document.getElementById("popup");
  p.textContent=text;
  p.classList.add("show");
  setTimeout(()=>p.classList.remove("show"),3500);
}

/* MUSIC */
function playMusic(){
  document.getElementById("music").play();
  musicPlayed=true;
  showPopup("Sekarang buka folder kue & tiup lilin üéÇ");
}

/* CAKE */
function openCake(){
  if(!musicPlayed){
    showPopup("Dengerin lagu dulu ya üéµ");
    return;
  }
  document.getElementById("cakeWin").style.display="block";
}
function blow(){
  candleBlown=true;
  document.getElementById("cakeWin").style.display="none";
  showPopup("Sekarang buka folder foto üìÅ");
}

/* PHOTOS */
function openPhotos(){
  if(!candleBlown){
    showPopup("Tiup lilin dulu ya üéÇ");
    return;
  }
  document.getElementById("photoBox").style.display="flex";
  document.getElementById("photoCtrl").style.display="block";
}
function next(){
  idx=(idx+1)%photos.length;
  document.getElementById("photo").src=photos[idx];
}
function prev(){
  idx=(idx-1+photos.length)%photos.length;
  document.getElementById("photo").src=photos[idx];
}
</script>

</body>
</html>
